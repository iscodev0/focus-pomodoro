---
// Pomodoro Timer App - Optimizado
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import IllustrationPanel from '../components/IllustrationPanel.astro';
import CycleIndicator from '../components/CycleIndicator.astro';
import ModeSelector from '../components/ModeSelector.astro';
import AutoModeToggle from '../components/AutoModeToggle.astro';
import Timer from '../components/Timer.astro';
import SessionControls from '../components/SessionControls.astro';
import HistoryPanel from '../components/HistoryPanel.astro';
---

<Layout title="Focus Timer - Pomodoro">
	<div class="main-layout">
		<div class="left-panel">
			<Header />
			<IllustrationPanel />
			<CycleIndicator />
			<ModeSelector />
			<AutoModeToggle />
		</div>

		<div class="right-panel">
			<Timer />
			<SessionControls />
			<HistoryPanel />
		</div>
	</div>

	<style>
		.main-layout {
			display: grid;
			grid-template-columns: 400px 1fr;
			min-height: 100vh;
		}

		.left-panel {
			background: var(--bg-secondary);
			border-right: 1px solid var(--border-color);
			padding: 32px;
			display: flex;
			flex-direction: column;
			gap: 32px;
		}

		.right-panel {
			padding: 32px;
			display: flex;
			flex-direction: column;
			gap: 32px;
		}

		@media (max-width: 1200px) {
			.main-layout {
				grid-template-columns: 1fr;
			}

			.left-panel {
				border-right: none;
				border-bottom: 1px solid var(--border-color);
			}
		}

		@media (max-width: 768px) {
			.left-panel, .right-panel {
				padding: 20px;
			}
		}
	</style>

	<script>
		import { PomodoroTimer } from '../scripts/pomodoroTimer.js';
		
		// Initialize the timer when DOM is loaded
		document.addEventListener('DOMContentLoaded', () => {
			new PomodoroTimer();
		});
	</script>
</Layout>
